- Need a tutorial mode for new players!!!
- Fall-and-injure should not trigger unless object falls at least 1 tile! You
  can't just walk on top of an object and cause falling damage!
- Water-related issues:
   X Climb-ledge action should not trigger while in water.
      * Why shouldn't it?
   - A-monsters should fear water.
      - Create instead a water-dwelling creature that will terrorize the player
        in whole new 4D ways. :-D
   + Gravity system stops applying to sinking objects after initial sink
     because Pos doesn't change anymore.
      + Argh!! This is far more complex than anticipated. Basically we CANNOT
        use the gravity system for this, because the gravity system acts within
        1 turn, but this must spread out over multiple turns, but not just
        multiple calls to the gravity system (which can happen multiple times
        per turn!!!), but must be keyed to the agent system's current tick
        number.
      + So, looks like we need to attach a Sinking component to sinking
        objects, and register an agent that specifically deals with pulling
        down sinking objects.
- Falling on a ladder should not cause ladder to support weight!
- Implement FOV and player map memory.
- Improve creature AI.
   - Pathfinding.
- Implement drowning and oxygen masks... Well, OK, this is 4D, so "oxygen"
  doesn't make sense. Maybe call it "diving equipment"?
- Implement water currents? :-D
   - Moving creatures should leave a wake, maybe implemented as temporary
     random mover in water tiles?
- Per-room water levels?
- Waterfalls? Rivers? :-D
- Subdisplay of subdisplay should bypass the intermediate layer of SubDisplay
  and connect directly to the bottom layer display.
- Subdisplay .writef method should perform clipping(?).
X Implement .dim and .pos for Rectangle.
+ Unify Rectangle with Vec?
+ [bufdisp] Implement subline flushing.
+ [bufdisp] Support color.
+ Implement save/load.
   P Should probably turn Vec and Region into mixins instead of isolated types,
     so that we can unify Vec with Pos and make Region more nicely
     serializable.
+ BUG: tile colors are DIFFERENT across Windows/Posix; so you really should not
  save any tile colors in the save file, you should be using generic tile IDs
  that map to actual tiles in a separate module (that has proper per-platform
  values initialized! -- though that part is taken care of by arsd.terminal,
  you just have to separate it from the savefile).
+ Should probably implement gravity now rather than later, since it changes a
  LOT of things.
+ Map underlying representation should be distinct from dchar.
   + The dchar view should be via a MapTile proxy object that maps underlying
     game objects into printable tiles.
+ Need to refactor play() and separate out the UI code from the game engine
  code.
+ Make climbing up ledges animatable.
+ Implement NPCs / moving creatures!
+ Implement "smooth" scrolling in vertical / ana/kata directions. Probably
  *very* necessary for new players to even understand what's going on.
+ Make smooth scroll configurable.
+ Implement back edges in mapgen.
   + This seems to be the simplest way of creating cycles. The spanning tree
     generated by the BSP tree guarantees connectivity.
   + This would be a good place to add one-way pits too. Though non-trivial
     (unidirectional) cycles are still not obvious how to generate them.
+ Implement message() batching and --MORE-- prompt.
+ BUG: tile above undiscovered pit trap shows up as blank??
   * Can't repro.
+ Smooth scroll parameters (skip, pause) should be adapted to the current
  terminal, since it may change depending on terminal characteristics.
   + Actually, what you *really* should be doing is to key the frames to real
     time, rather than some fake sleep timer. *That* will guarantee device
     independence and device speed independence.
+ Gravity should apply immediately after each creature's turn.
+ Optimize gravity system so that it doesn't have to loop through *all* objects
  with Pos every iteration!!
+ BUG: sometimes a pit can be created at the bottom of a ladder, which makes
  that ladder inaccessible.
P Implement session recorder.
   * This is turning out to be FAR more complex than anticipated. :-(  (What
     else is new?!)
+ Segfault when fall on A then get hit and die.
   + Caused by dead player no longer having a Pos.
   P Should really turn player into corpse instead of outright deletion.
P Fold Vec!(4,int) into Pos. There are TOO MANY different types representing a
  4D vector, it's seriously uglifying the code like crazy.
   * A distinction needs to be made between Vec!(int,4), a generic 4D vector,
     and Pos, an ECS position component. An object can have a Pos (a position
     on the map), but it doesn't make sense to say an object has a 4D vector. A
     Pos happens to be a 4D vector, *but could be more later*, such as having a
     map ID.
   * So the two should not be conflated. Code that conflates them should be
     fixed.
+ Current gravity system is B0RKEN. It needs to interlace with the Mortal
  system, otherwise it makes no sense (fall on A, hit it, but before it dies
  you fall further: out of sequence).
+ Add water level, underneath which free movement is possible? :-D
   + Need to place player and exit portal above water level.
   + Water should fill pits too. Currently there's a vacuum there and you can
     fall even though it ought to be completely submerged!
   + Water should only support weight of objects *inside* it, but not objects
     above it!
   + Inanimate objects (and objects that can't swim) should sink to the bottom
     of water.
   + Sinking objects should sink *slowly*!
+ Rework hidden pit traps:
   + Terrain should be blank tile or doorway, NOT wall!
   + Pit trap object should have appearance of wall, AND should affect
     appearance of tile above itself like walls do.
+ BUG: after falling through pit trap the first time, should suppress "fall
  through hidden pit" message.
